{% extends 'base.html' %}

{% block content %}
<!-- user input 부분 -->
<div class="main-content">
    <h2 class="rec_input">여행지 추천받기</h2>
    <form method="post" action="{% url 'rec_app:rec_input' %}">
        {% csrf_token %}
        <div class="user-input">
            <label for="user_input">당신이 원하는 여행지는?</label>
            <input type="text" name="user_input" required>
            <button type="submit">추천 받기</button>
        </div>
    </form>
</div>

{% if result_df %}
    <div class="recommendation-results">
        <h2>추천 결과</h2>
        <table border="1">
            <tr>
                <th>여행지 명칭</th>
                <th>가중 평점</th>
                <th>개요</th>
                <th>유사도</th>
            </tr>
            {% for index, row in result_df.iterrows %}
                <tr>
                    <td><a href="{% url 'rec_app:detail' index %}">{{ row.명칭 }}</a></td>
                    <td>{{ row.weighted_평점 }}</td>
                    <td>{{ row.개요 }}</td>
                    <td>{{ row.similarity }}</td>
                </tr>
            {% endfor %}
        </table>
    </div>
{% endif %}

{% endblock %}