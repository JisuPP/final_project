{% extends 'base.html' %}

{% block content %}

        <div class="main-content">
            <h2 class="detail-content">{{ selected_destination.명칭 }} 상세 정보</h2>
            <div class="destination-image">
                {% if selected_destination.selected_image_url %}
                <img src="{{ selected_destination.selected_image_url }}" alt="{{ selected_destination.명칭 }} 이미지">
            {% else %}
                <!-- 이미지가 없는 경우 대체 이미지를 표시 -->
                <img src="https://blog.kakaocdn.net/dn/Hh733/btrcA1znbC9/m3cFIkMBMYyJlnHe7WBiN1/img.gif" alt="{{ selected_destination.명칭 }} 이미지">
            {% endif %}
            </div>

            <!-- Main Content -->
            <div class="main-content">
                <div class="destination-info">
                    <p class="destination-description">{{ selected_destination.개요 }}</p>
                    <p class="destination-rating">평점: {{ selected_destination.Rating}}</p>
                    <p class="destination-reviews">리뷰수: {{ selected_destination.Reviews }}</p>
                    <p class="destination-weather">현재날씨  </p>
                    <ul>
                        {% if selected_destination.weather_info is not none %}
                        {% for weather_info in selected_destination.weather_info %}
                            {% for category, value in weather_info.items %}
                                <li>{{ category }}: {{ value }}</li>
                            {% endfor %}
                        {% endfor %}
                    {% else %}
                        <li>날씨 정보 없음</li>
                    {% endif %}
                    </ul>
                    <iframe srcdoc="{{ selected_destination.map }}" width="100%" height="500px"></iframe>
                </div>
            </div>

            {% comment %} 리뷰입력창 - url수정필요 {% endcomment %}
            <div class = "main-content">
                <form method="post" action="{% url 'rec_app:rec_input' %}">
                    {% csrf_token %}
                    <label for="review_input">해당 여행지에 다녀왔다면 리뷰를 입력해주세요!</label>
                    <textarea name="review_input" rows="5" cols="50" required></textarea>
                    <br>
                    <label for="rating_input">평점을 입력해주세요 (0에서 5까지):</label>
                    <input type="number" name="rating_input" min="0" max="5" step="0.1" required>
                    <br>
                    <button type="submit">입력하기</button>
                </form>
            </div>
            
{% endblock %}

